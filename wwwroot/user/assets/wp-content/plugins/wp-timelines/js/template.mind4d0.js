var Wptl_El_Sp={timelines_hoz:function(){return jQuery(window).resize(function(){jQuery(".horizontal-timeline:not(.ex-multi-item)").each(function(){var o=jQuery(this);setTimeout(function(){var e=o.data("id"),t=jQuery("#"+e+" ul.horizontal-nav li.ex_s_lick-current"),l=t.offset(),i=jQuery("#"+e+" .horizontal-nav").offset(),a=t.width(),s=l.left-i.left+a/2;jQuery("#"+e+" .timeline-pos-select").css("width",s)},200)})}),jQuery(".horizontal-timeline:not(.ex-multi-item)").each(function(){var e,c,u,p,t,l,i,a,r,h,s;jQuery(this).hasClass("hoz-at")||(jQuery(this).addClass("hoz-at"),(e=jQuery(this)).hasClass("tl-hozsteps")&&(s=!1),e.data("layout"),c=e.data("id"),u=e.data("count"),""==(p=e.data("slidesshow"))&&(p=3),t=e.data("arrowpos"),0<e.data("startit")&&e.data("startit"),l=e.data("autoplay"),i=e.data("speed"),a=e.data("rtl"),r=0<e.data("start_on")?e.data("start_on"):0,h="0"==e.data("infinite")?0:"yes"==e.data("infinite")||"1"==e.data("infinite"),s=e.data("center"),jQuery("#"+c+" .horizontal-content").on("beforeChange",function(e,t,l,i){var a;1==h||0==h?($indx=t.currentSlide,(a=jQuery("#"+c+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]')).prevAll().addClass("prev_item"),a.removeClass("prev_item"),a.nextAll().removeClass("prev_item")):($li_curr=i+1,jQuery("#"+c+" .horizontal-nav li.ex_s_lick-slide:nth-child("+$li_curr+")").prevAll().addClass("prev_item"),jQuery("#"+c+" .horizontal-nav li.ex_s_lick-slide:nth-child("+$li_curr+")").nextAll().removeClass("prev_item"))}).on("afterChange",function(e,t,l,i){if(1==h){$indx=t.currentSlide;var a=jQuery("#"+c+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]');u==p&&(o=a.offset(),n=jQuery("#"+c+" .horizontal-nav").offset(),r=a.width(),d=o.left-n.left+r/2,jQuery("#"+c+" .timeline-pos-select").css("width",d))}else{$indx=t.currentSlide,0==$indx&&0==h&&jQuery("#"+c).resize();for(var s=0;s<t.$slides.length;s++){if((a=jQuery(t.$slides[s])).hasClass("ex_s_lick-current")){$pos_c=s+1;var o=(a=jQuery("#"+c+" ul.horizontal-nav li:nth-child("+$pos_c+")")).offset(),n=jQuery("#"+c+" .horizontal-nav").offset(),r=a.width(),d=o.left-n.left+r/2;jQuery("#"+c+" .timeline-pos-select").css("width",d);break}}}a.prevAll().addClass("prev_item"),a.removeClass("prev_item"),a.nextAll().removeClass("prev_item")}).EX_ex_s_lick({infinite:h,speed:""!=i?i:250,initialSlide:r,rtl:"yes"==a,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,autoplay:1==l&&u<=p,arrows:"top"!=t,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',fade:!0,asNavFor:"#"+c+" .horizontal-nav",pauseOnHover:!0}),jQuery("#"+c+" .horizontal-nav").on("init",function(e,t,l){var i,a,s,o,n;""!=r&&jQuery.isNumeric(r)?((n=jQuery(t.$slides[r])).addClass("ex_s_lick-current"),jQuery(t.$slides[0]).removeClass("ex_s_lick-current"),n.nextAll().removeClass("prev_item"),n.prevAll().addClass("prev_item")):n=jQuery(t.$slides[0]),n.hasClass("ex_s_lick-current")&&(i=n.offset(),a=jQuery("#"+c+" .horizontal-nav").offset(),s=n.width(),o=i.left-a.left+s/2),jQuery("#"+c+" .timeline-pos-select").css("width",o),1!=h&&0!=h||($indx=t.currentSlide,(n=jQuery("#"+c+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]')).prevAll().addClass("prev_item"),n.removeClass("prev_item"),n.nextAll().removeClass("prev_item"))}).EX_ex_s_lick({infinite:h,speed:""!=i?i:250,initialSlide:r,rtl:"yes"==a,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',slidesToShow:p,slidesToScroll:1,asNavFor:"#"+c+" .horizontal-content",dots:!1,autoplay:1==l,autoplaySpeed:""!=i?i:3e3,arrows:"top"==t,centerMode:"left"!=s,focusOnSelect:!0,pauseOnHover:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:p,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}))}),this},timelines_hoz_multi:function(){return jQuery(".horizontal-timeline.ex-multi-item").each(function(){var e,t,l,i,a,s,o,n=jQuery(this);jQuery(this).hasClass("hoz-at")||(jQuery(this).addClass("hoz-at"),e=n.data("id"),""==(t=n.data("slidesshow"))&&(t=3),0<n.data("startit")&&n.data("startit"),l=n.data("autoplay"),i=n.data("speed"),a=n.data("rtl"),s=0<n.data("start_on")?n.data("start_on"):0,o="0"==n.data("infinite")?0:"yes"==n.data("infinite")||"1"==n.data("infinite"),$resps=[{breakpoint:1024,settings:{slidesToShow:t,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:jQuery("#"+e+" .horizontal-sl-2").length?2:1,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:jQuery("#"+e+" .horizontal-sl-2").length?2:1,slidesToScroll:1}}],jQuery("#"+e+" .horizontal-nav").EX_ex_s_lick({infinite:o,initialSlide:s,rtl:"yes"==a,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',slidesToShow:t,slidesToScroll:1,dots:!1,autoplay:1==l,autoplaySpeed:""!=i?i:3e3,arrows:!0,centerMode:!1,focusOnSelect:!0,adaptiveHeight:!0,asNavFor:jQuery("#"+e+" .horizontal-sl-2").length?"#"+e+" .horizontal-sl-2":"",responsive:$resps}),jQuery("#"+e+" .horizontal-sl-2").length&&jQuery("#"+e+" .horizontal-sl-2").EX_ex_s_lick({infinite:o,initialSlide:s,rtl:"yes"==a,slidesToShow:t,slidesToScroll:1,dots:!1,arrows:!1,centerMode:!1,focusOnSelect:!0,adaptiveHeight:!0,asNavFor:"#"+e+" .extl-nav",responsive:$resps}))}),this}};jQuery(document).ready(function(u){function p(){u(".extllightbox").length&&u(".extllightbox").each(function(){var e=u(this).data("class"),t=(GLightbox(),u(".glightbox-desc").data("close-outsite"));GLightbox({selector:e,moreLength:0,touchNavigation:!0,closeOnOutsideClick:1==t,type:"inline",lightboxHtml:'<div id="glightbox-body" class="extl-lb glightbox-container">\t\t\t\t\t  <div class="gloader visible"></div>\t\t\t\t\t  <div class="goverlay"></div>\t\t\t\t\t  <div class="gcontainer">\t\t\t\t\t     <div id="glightbox-slider" class="gslider"></div>\t\t\t\t\t     <a class="gnext"></a>\t\t\t\t\t     <a class="gprev"></a>\t\t\t\t\t     <a class="gclose"></a>\t\t\t\t\t  </div>\t\t\t\t\t</div>',afterSlideLoad:function(e,t){!function(){{var e,t,l;u(".exlb-gallery-carousel").length&&(e=u(".wpex-timeline-list").data("rtl"),t=u(".extl-gallery-carousel").data("autoplay"),l=u(".extl-gallery-carousel").data("autoplay_speed"),u(".loaded .exlb-gallery-carousel:not(.glled-lb)").EX_ex_s_lick({dots:!0,slidesToShow:1,infinite:!0,speed:500,fade:!0,cssEase:"linear",adaptiveHeight:!0,autoplay:"yes"==t,autoplaySpeed:""!=l?l:2e3,arrows:!1,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',rtl:"yes"==e}),u(".loaded .exlb-gallery-carousel").addClass("glled-lb"))}}()}})})}function r(){u(".wpex-timeline-list.wpex-infinite, .wpifgr-timeline.wpex-infinite").each(function(){var e,t,l,i,a,s=jQuery(this).attr("id");u("#"+s+" .wpex-loadmore a.loadmore-timeline").length&&(e=u("#"+s+" .wpex-loadmore a.loadmore-timeline"),t="#"+s+" .wpex-loadmore a.loadmore-timeline",l=jQuery(window).scrollTop(),i=l+jQuery(window).height(),(a=jQuery(t).offset().top)+jQuery(t).height()<=i+200&&l<=a&&!e.hasClass("loading")&&!u("#"+s+" .wpex-loadmore").hasClass("hidden")&&e.trigger("click"))})}function h(){var e,t,l;u(".extl-gallery-carousel").length&&(e=u(".wpex-timeline-list").data("rtl"),t=u(".extl-gallery-carousel").data("autoplay"),l=u(".extl-gallery-carousel").data("autoplay_speed"),u(".extl-gallery-carousel:not(.glled)").EX_ex_s_lick({dots:!0,slidesToShow:1,infinite:!0,speed:500,fade:!0,cssEase:"linear",adaptiveHeight:!0,autoplay:"yes"==t,autoplaySpeed:""!=l?l:2e3,arrows:!0,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',rtl:"yes"==e}),u(".extl-gallery-carousel").addClass("glled"),u(".wpex-timeline-list:not(.wptl-lightbox) .extl-gallery-carousel").on("click",function(e){e.stopPropagation()}))}function m(){var o=u(this);u(".wpex-timeline-list, .wpifgr-timeline").each(function(){var i=jQuery(this).attr("id"),e=u(this),t=e.offset().top,l=t+e.height();t-=200,u(document).scrollTop()>=t&&u(document).scrollTop()<=l?u("#"+i+" .wpex-filter").addClass("active"):u("#"+i+" .wpex-filter").removeClass("active");var a=u(window).height(),s=.3*a;o.scrollTop();u("#"+i+" ul:not(.wpex-taxonomy-filter):not(.page-numbers) li").each(function(){var e=u(this).data("id"),t=u(this).offset().top-u(window).scrollTop();u(this).height();s<=t?u("#"+e).removeClass("active"):u("#"+e).addClass("active");var l=u("#"+i).data("animations");""!=l&&t<.7*a&&(u(this).children(":first").removeClass("scroll-effect").addClass(l+" animated"),u(this).find(".extl-gallery-carousel:not(.glled)").length&&(u(this).find(".extl-gallery-carousel:not(.glled)").EX_ex_s_lick({dots:!0,slidesToShow:1,infinite:!0,speed:500,fade:!0,cssEase:"linear",adaptiveHeight:!0,arrows:!0,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',rtl:!1}),u(this).find(".extl-gallery-carousel").addClass("glled")))})})}function i(i,e){var t=u("#"+i+" input[name=ajax_url]").val(),l=u("#"+i+" input[name=param_shortcode]").val();u("#"+i).addClass("loading"),u("#"+i+" ul.wpex-timeline li").fadeOut(300,function(){u(this).remove()}),u("#"+i+" input[name=num_page_uu]").val(1),u("#"+i+" input[name=current_page]").val(1),u("#"+i+" .wpex-tltitle.wpex-loadmore .yft").remove();var a={action:"wpex_filter_taxonomy",taxonomy_id:e,param_shortcode:l};u.ajax({type:"post",url:t,dataType:"json",data:a,success:function(e){var t,l;"0"!=e?(""==e?u("#"+i+" .wpex-loadmore.lbt").addClass("hidden"):(u("#"+i+" ul.infogr-list").length?(t=u("#"+i+" ul.infogr-list > li").length,(t+=e.count)%2!=0?u("#"+i+" ul.infogr-list").removeClass("exif-nb-even"):u("#"+i+" ul.infogr-list").addClass("exif-nb-even"),l=u("#"+i+" ul.infogr-list"),setTimeout(function(){u("#"+i+" .extl-gallery-carousel").EX_ex_s_lick("setPosition")},200)):l=u("#"+i+" ul.wpex"),l.html(""),l.append(e.html_content),u("#"+i+" .wpex-filter:not(.year-ft) div span").remove(),u("#"+i+" .wpex-filter:not(.year-ft) div").append(e.date),setTimeout(function(){u("#"+i+" ul.wpex > li").addClass("active")},200),u("#"+i).removeClass("loading"),u("#"+i+" input[name=param_query]").val(JSON.stringify(e.data_query))),1!=e.more?(u("#"+i).addClass("no-more"),u("#"+i+" .wpex-loadmore.lbt").addClass("hidden")):u("#"+i).removeClass("no-more"),p(),m(),h(),u(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*u(".wpex-timeline-list .wpex-filter").width())):u(".row.loadmore").html("error")}})}p(),h(),u(".wpex-filter:not(.year-ft)").on("click","div span",function(){var e=jQuery(this).attr("id"),t=u(window).height();u("html,body").animate({scrollTop:u("."+e).offset().top-.2*t},"slow")}),u(".wpex-timeline-list, .wpifgr-timeline").length&&(m(),r(),u(document).scroll(function(){m(),r()})),u(".wpex-filter.year-ft").on("click","div span",function(){var l=u(this),e=jQuery(this).data("id");u("#timeline-"+e).addClass("loading no-more");var i="timeline-"+e;u("#"+i+" .wpex-filter.year-ft div span").removeClass("active"),l.addClass("active");var t=jQuery(this).data("value"),a="";u("#"+i+" .wpex-taxonomy-filter li a.active").length&&(a=u("#"+i+" .wpex-taxonomy-filter li a.active").data("value"));var s=u("#timeline-"+e+" input[name=ajax_url]").val(),o=u("#timeline-"+e+" input[name=param_shortcode]").val();u("#"+i+" .wpex-loadmore.lbt").addClass("hidden"),u("#timeline-"+e+" ul.wpex-timeline li").fadeOut(300,function(){u(this).remove()});var n={action:"wpex_filter_year",taxonomy_id:t,mult:a,param_shortcode:o};return u.ajax({type:"post",url:s,dataType:"json",data:n,success:function(e){var t;"0"!=e?(""!=e&&((t=u("#"+i+" ul.wpex")).html(""),""!=e.html_content?(u("#"+i+" .wpex-tltitle.wpex-loadmore").prepend('<span class="yft">'+l.html()+"</span>"),u("#"+i+" .wpex-loadmore:not(.lbt)").removeClass("hidden"),t.append(e.html_content)):(u("#"+i+" .wpex-loadmore").addClass("hidden"),t.append('<h2 style="text-align: center;">'+e.massage+"</h2>")),setTimeout(function(){u("#"+i+" ul.wpex > li").addClass("active")},200),u("#"+i).removeClass("loading")),m(),r(),h(),u(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*u(".wpex-timeline-list .wpex-filter").width())):u(".row.loadmore").html("error")}}),!1}),u(".wpex-taxonomy-filter").on("click","li",function(){var e=u(this),t="timeline-"+jQuery(this).data("id");u("#"+t+" .wpex-taxonomy-filter li").removeClass("active"),u("#"+t+" .wpex-taxonomy-filter li").removeClass("crr-at"),u("#"+t+" .wpex-filter.year-ft div span").removeClass("active"),u("#"+t+" .wpex-loadmore").removeClass("hidden"),e.addClass("active crr-at"),e.parents("li").addClass("active");var l=jQuery(this).data("value");return u("#"+t+" .wpex-taxonomy-select option[value='"+l+"']").attr("selected","selected"),i(t,l),!1}),u(".wptl-filter-box select[name=wpex_taxonomy]").on("change",function(e){e.preventDefault();u(this);var t="timeline-"+jQuery(this).find(":selected").data("id"),l=jQuery(this).find(":selected").val();return u("#"+t+" .wpex-taxonomy-filter li").removeClass("active"),u("#"+t+" .wpex-taxonomy-filter li[data-value='"+l+"']").addClass("active"),u("#"+t+" .wpex-taxonomy-filter li[data-value='"+l+"']").parents("li").addClass("active"),i(t,l),!1}),u(".loadmore-timeline").on("click",function(){var i=u(this);i.addClass("disable-click");var a=i.data("id"),s=u("#"+a+" input[name=num_page_uu]").val();u("#"+a+" .loadmore-timeline").addClass("loading");var e=u("#"+a+" input[name=param_query]").val(),o=u("#"+a+" input[name=current_page]").val(),n=u("#"+a+" input[name=num_page]").val(),t=u("#"+a+" input[name=ajax_url]").val(),l=u("#"+a+" input[name=param_shortcode]").val(),r="",d=i.data("tl_language");u("#"+a+" li:last-child > input.crr-year").length&&(r=u("#"+a+" li:last-child > input.crr-year").val());var c={action:"wpex_loadmore_timeline",param_query:e,page:+o+1,param_shortcode:l,param_year:r,lang:d};return u.ajax({type:"post",url:t,dataType:"json",data:c,success:function(e){var t,l;"0"!=e?(s=+s+1,u("#"+a+" input[name=num_page_uu]").val(s),""==e.html_content?u("#"+a+" .wpex-loadmore.lbt").addClass("hidden"):(u("#"+a+" input[name=current_page]").val(+o+1),u("#"+a+" ul.infogr-list").length?(t=u("#"+a+" ul.infogr-list > li").length,(t+=e.count)%2!=0?u("#"+a+" ul.infogr-list").removeClass("exif-nb-even"):u("#"+a+" ul.infogr-list").addClass("exif-nb-even"),l=u("#"+a+" ul.infogr-list"),setTimeout(function(){u("#"+a+" .extl-gallery-carousel").EX_ex_s_lick("setPosition")},200)):l=u("#"+a+" ul.wpex"),l.append(e.html_content),u("#"+a+" .wpex-filter:not(.year-ft) div").append(e.date),setTimeout(function(){u("#"+a+" ul.wpex > li").addClass("active")},200)),s==n&&(u("#"+a).addClass("no-more"),u("#"+a+" .wpex-loadmore.lbt").addClass("hidden")),m(),p(),h(),u(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*u(".wpex-timeline-list .wpex-filter").width()),u("#"+a+" .loadmore-timeline").removeClass("loading"),i.removeClass("disable-click")):u(".row.loadmore").html("error")}}),!1}),u(".wpex-timeline-list .wpex-filter").css("right",-1*u(".wpex-timeline-list .wpex-filter").width()),u(".wpifgr-timeline .wpex-filter").css("right",-1*u(".wpifgr-timeline .wpex-filter").width()),u(".wpex-timeline-list .wpex-filter > .fa, .wpifgr-timeline .wpex-filter > .fa").on("click",function(){var e=u(this).data("id");u("#"+e+" .wpex-filter").hasClass("show-filter")?(u("#"+e+" .wpex-filter").removeClass("show-filter"),u("#"+e+" .wpex-filter").css("right",-1*u("#"+e+" .wpex-filter").width())):(u("#"+e+" .wpex-filter").addClass("show-filter"),u("#"+e+" .wpex-filter").css("right",0))}),u(".wpex-timeline-list").each(function(){var e=u(this),t=e.attr("id");u(e).hasClass("wptl-lightbox")&&(u("#"+t).hasClass("left-tl")&&u("#"+t).hasClass("show-icon")&&!u("#"+t).hasClass("show-box-color")?u("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .wpex-content-left > a",useHistoryApi:!0}):u("#"+t).hasClass("show-clean")?u("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:" .wpex-timeline-label > a",useHistoryApi:!0}):u("#"+t).hasClass("show-wide_img")||u("#"+t).hasClass("show-simple-bod")||u("#"+t).hasClass("show-box-color")?u("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:" .timeline-details > a",useHistoryApi:!0}):u("#"+t).hasClass("left-tl")||u("#"+t).hasClass("center-tl")&&!u("#"+t).hasClass("show-icon")&&!u("#"+t).hasClass("sidebyside-tl")?u("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .wpex-timeline-time > a",useHistoryApi:!0}):u("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .timeline-details > a",useHistoryApi:!0}),u("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .extl-gallery-carousel a",useHistoryApi:!0}))}),Wptl_El_Sp.timelines_hoz_multi(),u(".horizontal-timeline:not(.ex-multi-item) ul.horizontal-nav li").on("click",function(){u(this).prevAll().addClass("prev_item"),u(this).nextAll().removeClass("prev_item")}),Wptl_El_Sp.timelines_hoz()});